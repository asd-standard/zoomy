<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Project structure &#8212; PyZui 0.11 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=cc7d0dec" />
    <script src="../_static/documentation_options.js?v=086c1757"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Object System" href="objectsystem.html" />
    <link rel="prev" title="Reading Documentation" href="readingdocumentation.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="project-structure">
<h1>Project structure<a class="headerlink" href="#project-structure" title="Link to this heading">¶</a></h1>
<p>For human readability the project have been subdivided in the following folder structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                   ┌─────────┐
                                   │  pyzui  │
                                   └────┬────┘
                ┌────────────┬──────────┼───────────┬────────────┐
                │            │          │           │            │
          ┌─────▼─────┐ ┌────▼────┐ ┌───▼──────┐ ┌──▼───────┐    │
          │converters │ │ objects │ │tilesystem│ │ windows  │ logger.py
          └─────┬─────┘ └────┬────┘ └─────┬────┘ └──────────┘
                │            │            │                │
    ┌───────────┼──────┐     │            │     ┌──────────▼─────────┐
    │           │      │     │            │     │             ┌──────▼──────┐
converter   pdfconv vipsconv │            │ mainwindow        │dialogwindows│
            erter   erter    │            │                   └─────────────┘
                             │            │                          │
                  ┌──────────┼─────────┐  │                 stringinputdialog
                  │                    │  │                 modifystringdialog
          physicalobject               │   ──────────┐      zoomsesitivitydialog
                                       │             │      dialogwindows
                          ┌────────────┼────────┐    │
                          │            │        │    │
                  ┌───────▼──────┐ ┌───▼───┐    │    │
                  │mediaobjects  │ │ scene │    │    │
                  └───────┬──────┘ └───┬───┘    │    │
                          │            │        │    │
              ┌───────────┼            │        │    │
              │           │            │        │    │
       mediaobject   strmediaobj     qzui    scene   │
                     svgmediaobj                     │
                     tiledmediaobj                   │
                                                     │
                    ┌────────────────────────────────┼───────────┐
                                    │                │           │
                  tile         ┌────▼─────┐    ┌─────▼─────┐ ┌───▼─────┐
                  tilemanager  │tileprov  │    │   tiler   │ │tilestore│
                               └────┬─────┘    └─────┬─────┘ └───┬─────┘
                                    │                │           │
                      ┌─────────────┼──────┐         │           │
                      │             │      │         │           │
                tileprovider  statictp  dynamictp  tiler         │
                                           │        ppm          │
                                           │                     │
                                    ferndynamictp      ┌─────────┼────────┐
                                                       │         │        │
                                                  tilestore tilecache cleanup
</pre></div>
</div>
<section id="project-class-hierarchy">
<h2>Project class hierarchy<a class="headerlink" href="#project-class-hierarchy" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/physicalobject.html"><span class="doc">physicalobject</span></a></dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/mediaobject.html"><span class="doc">mediaobject</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="../pyzui/tiledmediaobject.html"><span class="doc">tiledmediaobject</span></a></p></li>
<li><p><a class="reference internal" href="../pyzui/stringmediaobject.html"><span class="doc">stringmediaobject</span></a></p></li>
<li><p><a class="reference internal" href="../pyzui/svgmediaobject.html"><span class="doc">svgmediaobject</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/scene.html"><span class="doc">scene</span></a></dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/qzui.html"><span class="doc">qzui</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="../main.html"><span class="doc">main</span></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/converter.html"><span class="doc">converter</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="../pyzui/pdfconverter.html"><span class="doc">pdfconverter</span></a></p></li>
<li><p><a class="reference internal" href="../pyzui/vipsconverter.html"><span class="doc">vipsconverter</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/tiler.html"><span class="doc">tiler</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="../pyzui/ppm.html"><span class="doc">ppm</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference internal" href="../pyzui/tile.html"><span class="doc">tile</span></a></p></li>
<li><p><a class="reference internal" href="../pyzui/tilemanager.html"><span class="doc">tilemanager</span></a></p></li>
<li><p><a class="reference internal" href="../pyzui/tilecache.html"><span class="doc">tilecache</span></a></p></li>
<li><p><a class="reference internal" href="../pyzui/tilestore.html"><span class="doc">tilestore</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/tileprovider.html"><span class="doc">tileprovider</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="../pyzui/statictileprovider.html"><span class="doc">statictileprovider</span></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="../pyzui/dynamictileprovider.html"><span class="doc">dynamictileprovider</span></a></dt><dd><ul>
<li><p><a class="reference internal" href="../pyzui/ferntileprovider.html"><span class="doc">ferntileprovider</span></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="architecture-diagram">
<h2>Architecture diagram<a class="headerlink" href="#architecture-diagram" title="Link to this heading">¶</a></h2>
<p>Here’s a schematic of the program architecture, with a simple legend of
core components:</p>
<p>Key Design Patterns:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Abstract Base Classes</strong>: Converter, TileProvider, MediaObject, PhysicalObject</p></li>
<li><p><strong>Threading</strong>: Non-blocking tile loading, rendering, conversion</p></li>
<li><p><strong>Caching Strategy</strong>: Three-tier (Memory → Disk → Source)</p></li>
<li><p><strong>Observer Pattern</strong>: Qt signals/slots for event handling</p></li>
<li><p><strong>Template Method</strong>: Tile provider request processing</p></li>
<li><p><strong>Singleton-like</strong>: TileManager module-level functions</p></li>
</ul>
</div></blockquote>
<p>Core Components:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">Component</span>        <span class="o">|</span> <span class="n">Responsibility</span>                    <span class="o">|</span> <span class="n">Key</span> <span class="n">Files</span> <span class="o">|</span>
<span class="o">|-----------</span>       <span class="o">|-----------------------------------|-----------|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">main</span><span class="o">.</span><span class="n">py</span><span class="o">**</span>      <span class="o">|</span> <span class="n">Application</span> <span class="n">entry</span><span class="p">,</span> <span class="n">initialization</span> <span class="o">|</span> <span class="n">main</span><span class="o">.</span><span class="n">py</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">LoggerConfig</span><span class="o">**</span> <span class="o">|</span> <span class="n">Centralized</span> <span class="n">logging</span> <span class="n">system</span>        <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">logger</span><span class="o">.</span><span class="n">py</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">TileManager</span><span class="o">**</span>  <span class="o">|</span> <span class="n">Tile</span> <span class="n">coordination</span> <span class="ow">and</span> <span class="n">caching</span>     <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">tilesystem</span><span class="o">/</span><span class="n">tilemanager</span><span class="o">.</span><span class="n">py</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">MainWindow</span><span class="o">**</span>   <span class="o">|</span> <span class="n">Qt</span> <span class="n">main</span> <span class="n">window</span> <span class="ow">and</span> <span class="n">menus</span>          <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">windows</span><span class="o">/</span><span class="n">mainwindow</span><span class="o">.</span><span class="n">py</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">QZUI</span><span class="o">**</span>         <span class="o">|</span> <span class="n">Rendering</span> <span class="n">widget</span><span class="p">,</span> <span class="nb">input</span> <span class="n">handling</span>  <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">objects</span><span class="o">/</span><span class="n">scene</span><span class="o">/</span><span class="n">qzui</span><span class="o">.</span><span class="n">py</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">Scene</span><span class="o">**</span>        <span class="o">|</span> <span class="n">MediaObject</span> <span class="n">container</span>             <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">objects</span><span class="o">/</span><span class="n">scene</span><span class="o">/</span><span class="n">scene</span><span class="o">.</span><span class="n">py</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">MediaObject</span><span class="o">**</span>  <span class="o">|</span> <span class="n">Displayable</span> <span class="n">media</span> <span class="ow">in</span> <span class="n">ZUI</span>          <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">objects</span><span class="o">/</span><span class="n">mediaobjects</span><span class="o">/</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">TileProvider</span><span class="o">**</span> <span class="o">|</span> <span class="n">Tile</span> <span class="n">loading</span><span class="o">/</span><span class="n">generation</span>           <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">tilesystem</span><span class="o">/</span><span class="n">tileproviders</span><span class="o">/</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">TileStore</span><span class="o">**</span>    <span class="o">|</span> <span class="n">Persistent</span> <span class="n">tile</span> <span class="n">storage</span>           <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">tilesystem</span><span class="o">/</span><span class="n">tilestore</span><span class="o">/</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">**</span><span class="n">Converter</span><span class="o">**</span>    <span class="o">|</span> <span class="n">Media</span> <span class="nb">format</span> <span class="n">conversion</span>           <span class="o">|</span> <span class="n">pyzui</span><span class="o">/</span><span class="n">converters</span><span class="o">/</span> <span class="o">|</span>
</pre></div>
</div>
<p>Complete Application Lifecycle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>START                                        |    Enter Qt Event Loop ←──────────┐
  ↓                                          |      ↓                            │
Parse Args → Load Config → Init Logging      |      │  ┌─────────────────────┐   │
  ↓                                          |      ├─→│ User Input Events   │───┤
Init TileManager                             |      │  └─────────────────────┘   │
  ↓                                          |      │                            │
  ├─→ Create TileCache (80% static,          |      │  ┌─────────────────────┐   │
  │   20% dynamic)                           |      ├─→│ QZUI Render Loop    │───┤
  ├─→ Start StaticTileProvider thread        |      │  │ • Update physics    │   │
  ├─→ Start DynamicTileProvider threads      |      │  │ • Request tiles     │   │
  └─→ Auto cleanup TileStore (if enabled)    |      │  │ • Render scene      │   │
  ↓                                          |      │  └─────────────────────┘   │
Create Qt App                                |      │                            │
  ↓                                          |      │  ┌─────────────────────┐   │
Create MainWindow                            |      ├─→│ Tile Providers      │───┤
  ↓                                          |      │  │ • Process requests  │   │
  ├─→ Create QZUI widget                     |      │  │ • Load/generate     │   │
  │   ├─→ Create Scene                       |      │  │ • Cache tiles       │   │
  │   └─→ Start render thread (10 fps)       |      │  └─────────────────────┘   │
  ├─→ Setup menus                            |      │                            │
  └─→ Load default scene                     |      └────────────────────────────┘
  ↓                                          |      ↓
Show Window                                  |    User Closes Window
  ↓                                          |      ↓
                                             |    Exit Event Loop → Cleanup &amp; Exit
                                             |      ↓
                                             |    END
</pre></div>
</div>
<p>Program schematic:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────────────────────────────────────────────────┐
│                         main.py                                 │
│  • Parse CLI arguments                                          │
│  • Load configuration (JSON)                                    │
│  • Initialize logging system                                    │
│  • Initialize TileManager                                       │
│  • Create MainWindow &amp; QZUI                                     │
└─────────────┬───────────────────────────────────────────────────┘
              │
              ├──────────────────────────────────────────────┐
              │                                              │
              ▼                                              ▼
┌─────────────────────────────┐              ┌──────────────────────────────┐
│      LoggerConfig           │              │     TileManager (Module)     │
│  • Centralized logging      │              │  • init() - Setup caches     │
│  • File + Console handlers  │              │  • load_tile()               │
│  • Color-coded output       │              │  • get_tile()                │
│  • Rotation support         │              │  • get_tile_robust()         │
└─────────────────────────────┘              └──────────┬───────────────────┘
                                                        │
                                                        │
              ┌─────────────────────────────────────────┴──────────┐
              │                                                    │
              ▼                                                    ▼
┌─────────────────────────────┐              ┌──────────────────────────────┐
│     MainWindow (Qt)         │              │   TileCache (LRU)            │
│  • Menu system              │              │  • In-memory cache           │
│  • File operations          │              │  • 80% static / 20% dynamic  │
│  • Central widget: QZUI     │              │  • Thread-safe               │
└─────────────┬───────────────┘              └──────────┬───────────────────┘
              │                                         │
              ▼                                         │
┌─────────────────────────────┐                         │
│   QZUI (Qt Widget+Thread)   │                         │
│  • Rendering loop           │                         │
│  • Input handling           │                         │
│  • Viewport management      │◄────────────────────────┤
│  • Requests tiles           │                         │
└─────────────┬───────────────┘                         │
              │                                         │
              ▼                                         │
┌─────────────────────────────┐                         │
│        Scene                │                         │
│  • Container for media      │                         │
│  • Coordinate transforms    │                         │
│  • Thread-safe (RLock)      │                         │
│  • Save/Load .pzs files     │                         │
└─────────────┬───────────────┘                         │
              │                                         │
              ▼                                         │
┌───────────────────────────────────┐                   │
│      MediaObject                  │                   │
│  ┌─────────────────────┐          │                   │
│  │  PhysicalObject     │          │                   │
│  │  • x, y, z coords   │          │                   │
│  │  • vx, vy, vz       │          │                   │
│  │  • damping          │          │                   │
│  └─────────────────────┘          │                   │
│         ▲                         │                   │
│         │                         │                   │
│  ┌──────┴──────────────┐          │                   │
│  │                     │          │                   │
│  ▼                     ▼          │                   │
│ TiledMediaObject  StringMediaObj  │                   │
│ SVGMediaObject                    │                   │
└───────────────────────────────────┘                   │
              │                                         │
              │ requests tiles                          │
              ▼                                         │
┌─────────────────────────────┐                         │
│   TileProvider (Abstract)   │◄────────────────────────┘
│  • Thread-based             │
│  • LIFO task queue          │
│  • Condition variables      │
└─────────────┬───────────────┘
              │
    ┌─────────┴──────────┐
    │                    │
    ▼                    ▼
┌────────────┐    ┌──────────────────┐
│  Static    │    │  DynamicProvider │
│  Provider  │    │  • FernProvider  │
│            │    │  • MandelProvider│
└────┬───────┘    └────────┬─────────┘
     │                     │
     │                     │
     └─────────┬───────────┘
               │
               ▼
     ┌──────────────────┐
     │   TileStore      │
     │  • Disk storage  │
     │  • SHA-1 hashing │
     │  • Auto cleanup  │
     └──────────────────┘
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PyZui</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/installation.html">PyZui installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/installation.html#dependencies">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/installation.html#running-pyzui">Running PyZUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/installation.html#generating-documentation">Generating Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage Instructions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usageinstructions/userinterface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usageinstructions/programconfiguration.html">Program Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readingdocumentation.html">Reading Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Project structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="objectsystem.html">Object System</a></li>
<li class="toctree-l1"><a class="reference internal" href="convertersystem.html">Converter System</a></li>
<li class="toctree-l1"><a class="reference internal" href="tiledmediaobject.html">Tiled media object</a></li>
<li class="toctree-l1"><a class="reference internal" href="tilingsystem.html">Tiling System</a></li>
<li class="toctree-l1"><a class="reference internal" href="windowsystem.html">Window System</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Testing Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testingdocumentation/unittest.html">Unit Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testingdocumentation/integrationtest.html">Integration Testing Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Benchmarks Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmarksdocumentation/qzuibenchmark.html">QZUI Benchmark Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarksdocumentation/converterbenchmark.html">Converter Benchmark Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributionguidelines/contributiongiudelines.html">Contribution Guidelines</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="readingdocumentation.html" title="previous chapter">Reading Documentation</a></li>
      <li>Next: <a href="objectsystem.html" title="next chapter">Object System</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, David Roberts, Andrea Silvestri.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/technicaldocumentation/projectstructure.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>